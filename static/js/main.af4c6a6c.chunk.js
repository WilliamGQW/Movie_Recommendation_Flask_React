(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{12:function(e,t,a){e.exports={SearchResult:"SearchResult_SearchResult__5QuyZ",Item:"SearchResult_Item__3Y-Cm",Button:"SearchResult_Button__39rp0"}},26:function(e,t,a){e.exports={Toolbar:"Toolbar_Toolbar__ApScI",Logo:"Toolbar_Logo__3Lk47"}},29:function(e,t,a){e.exports={Button:"Button_Button__3R1xi",Save:"Button_Save__2is0_",Delete:"Button_Delete__3VrNe"}},3:function(e,t,a){e.exports={NavigationItems:"NavigationItems_NavigationItems__1fnFX",Item:"NavigationItems_Item__6K2Ni",active:"NavigationItems_active__3EugU"}},41:function(e,t,a){e.exports=a.p+"static/media/movie-logo.71268b6e.png"},42:function(e,t,a){e.exports={Logo:"Logo_Logo__3Ec1t"}},43:function(e,t,a){e.exports={Content:"Layout_Content__PrDi6"}},44:function(e,t,a){e.exports={SearchResults:"SearchResults_SearchResults__2kZpi"}},45:function(e,t,a){e.exports=a(74)},55:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),c=a.n(l),s=a(14),o=(a(23),a(54),a(55),a(4)),i=a(5),u=a(7),m=a(6),d=function(e){return e.children},v=a(26),p=a.n(v),h=a(41),f=a.n(h),E=a(42),g=a.n(E),b=function(e){return r.a.createElement("div",{className:g.a.Logo},r.a.createElement("img",{src:f.a,alt:"WebsiteLogo"}))},w=a(3),_=a.n(w),y=function(e){return r.a.createElement("ul",{className:_.a.NavigationItems},r.a.createElement("li",{className:_.a.Item},r.a.createElement(s.b,{to:"/",exact:!0,activeClassName:_.a.active},"Search")),r.a.createElement("li",{className:_.a.Item},r.a.createElement(s.b,{to:"/explore",exact:!0,activeClassName:_.a.active},"Explore")),e.isAuthenticated?r.a.createElement("li",{className:_.a.Item},r.a.createElement(s.b,{to:"/post",activeClassName:_.a.active},"Post")):null,e.isAuthenticated?r.a.createElement("li",{className:_.a.Item},r.a.createElement(s.b,{to:"/recommendations",activeClassName:_.a.active},"Recommendations")):null,e.isAuthenticated?r.a.createElement("li",{className:_.a.Item},r.a.createElement(s.b,{to:"/logout",activeClassName:_.a.active},"LogOut")):r.a.createElement("li",{className:_.a.Item},r.a.createElement(s.b,{to:"/login",activeClassName:_.a.active},"SignIn")),e.isAuthenticated?null:r.a.createElement("li",{className:_.a.Item},r.a.createElement(s.b,{to:"/register",activeClassName:_.a.active},"Register")))},N=function(e){return r.a.createElement("header",{className:p.a.Toolbar},r.a.createElement("div",{className:p.a.Logo},r.a.createElement(b,null)),r.a.createElement("div",null,r.a.createElement(y,{isAuthenticated:e.isAuthenticated})))},S=a(43),j=a.n(S),O=a(20),I=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",isAuthenticated:!1},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){if(localStorage.usertoken){var e=localStorage.usertoken,t=Object(O.a)(e);this.setState({email:t.identity.email,password:t.identity.password}),""!==this.state.email&&""!==this.state.password&&this.setState({isAuthenticated:!0})}}},{key:"render",value:function(){return r.a.createElement(d,null,r.a.createElement(N,{isAuthenticated:this.props.isAuthenticated}),r.a.createElement("main",{className:j.a.Content},this.props.children))}}]),a}(n.Component),k=a(12),C=a.n(k),x=function(e){return console.log("movie id is"),console.log(e.id),r.a.createElement("div",{className:C.a.SearchResult},r.a.createElement("div",{className:C.a.Item},e.name),r.a.createElement("div",{className:C.a.Item},e.genres),r.a.createElement("div",{className:C.a.Item},e.rating),r.a.createElement("button",{className:C.a.Button,onClick:function(){return e.clicked(e.id)}},"View Details"))},R=a(44),A=a.n(R),H=function(e){var t=e.results;return r.a.createElement("div",{className:A.a.SearchResults},r.a.createElement("div",{className:C.a.SearchResult},r.a.createElement("div",{className:C.a.Item},"Movie Name"),r.a.createElement("div",{className:C.a.Item},"Genres"),r.a.createElement("div",{className:C.a.Item},"Rating"),r.a.createElement("div",{className:C.a.Item},"Movie Page")),t.map((function(t){return r.a.createElement(x,{name:t.title,id:t.id,genres:t.genres,rating:t.vote_average,clicked:e.clicked})})))},L=a(21),T=a.n(L),D=function(e){return T.a.get("/search",{params:{name:e.name}}).then((function(e){return console.log("success"),e.data}))},B=function(e){return T.a.post("/login",{email:e.email,password:e.password}).then((function(e){return localStorage.setItem("usertoken",e.data),e.data})).catch((function(e){console.log(e)}))},M=function(e){return T.a.post("/register",{email:e.email,password:e.password}).then((function(e){return window.alert("Successfullt registered!"),e.data})).catch((function(e){window.alert("username or email already exists"),console.log(e)}))},F=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={name:"",results:[]},e.componentDidMount=function(){e.setState({name:"",results:[]}),console.log(e.state)},e.onSubmit=function(t){t.preventDefault();var a={name:e.state.name};console.log(a),D(a).then((function(t){if(console.log("returned res",t),t.error)e.setState({results:[]});else{var a=t;e.setState({results:a})}}))},e.changeInputHandler=function(t){e.setState({name:t.target.value})},e.clickHandler=function(t){e.props.history.push("/movie/".concat(t))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{onChange:function(t){return e.changeInputHandler(t)},value:this.state.name}),r.a.createElement("button",null,"Search")),this.state.results?r.a.createElement(H,{results:this.state.results,clicked:this.clickHandler}):null)}}]),a}(n.Component),P=a(15),J=a(29),U=a.n(J),V=function(e){return r.a.createElement("button",{className:[U.a.Button,U.a[e.btnType]].join(" "),onClick:function(){return e.clicked()}},e.children)},Y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e,n;Object(o.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(n=t.call.apply(t,[this].concat(l))).state=(e={id:1,genres:"",release_year:2e3,vote_average:0,original_language:"",runtime:100,directors:"",actors:""},Object(P.a)(e,"actors",""),Object(P.a)(e,"overview",""),Object(P.a)(e,"savedToFav",!1),Object(P.a)(e,"btnType","Save"),e),n.componentDidMount=function(){console.log(n.props.mvId)},n.clickHandler=function(){0==n.savedToFav?n.setState({savedToFav:!0,btnType:"Delete"}):n.setState({savedToFav:!1,btnType:"Save"})},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,this.state.title),r.a.createElement("p",null,this.state.genres),r.a.createElement("p",null,"Year: ",this.state.release_year),r.a.createElement("p",null,"Rating: ",this.state.vote_average),r.a.createElement("p",null,"Language: ",this.state.original_language),r.a.createElement("p",null,"Runtime: ",this.state.runtime),r.a.createElement("div",null,"Directors: ",this.state.directors),r.a.createElement("div",null,"Cast: ",this.state.actors),r.a.createElement("p",null,"Overview: ",this.state.overview),r.a.createElement(V,{clicked:this.clickHandler,btnType:this.state.btnType},"Like"))}}]),a}(n.Component),Z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",error:{}},e.changeHandler=function(t){e.setState(Object(P.a)({},t.target.name,t.target.value))},e.submitHandler=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};""!==e.state.username&&""!==e.state.password||window.alert("Please fill in all fields!"),B(a).then((function(t){"object"===typeof t?(window.alert("Account not found! Please try again"),localStorage.clear(),window.location.reload()):e.props.history.push("/")}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.submitHandler(t)}},r.a.createElement("div",null,r.a.createElement("label",null,"email"),r.a.createElement("input",{name:"email",type:"text",value:this.state.email,onChange:function(t){return e.changeHandler(t)}})),r.a.createElement("div",null,r.a.createElement("label",null,"password"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.changeHandler(t)}})),r.a.createElement("button",null,"Log in")))}}]),a}(n.Component),G=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",username:""},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.usertoken,t=Object(O.a)(e);this.setState({username:t.identity.username,email:t.identity.email})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("table",{className:"table col-md-6 mx-auto"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"badge badge-dark text-white col-8"},"User: "),r.a.createElement("td",null,this.state.username))))),r.a.createElement("div",null,r.a.createElement("h3",null,"Favorite List")),r.a.createElement("div",null,r.a.createElement("h3",null,"Recommended Movies")))}}]),a}(n.Component),K=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",error:{}},e.changeHandler=function(t){e.setState(Object(P.a)({},t.target.name,t.target.value))},e.submitHandler=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};""!==e.state.username&&""!==e.state.password||window.alert("Please fill in all fields!"),M(a).then((function(t){"object"===typeof t?e.props.history.push("/login"):(localStorage.clear(),window.location.reload())}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.submitHandler(t)}},r.a.createElement("div",null,r.a.createElement("label",null,"email"),r.a.createElement("input",{name:"email",type:"text",value:this.state.email,onChange:function(t){return e.changeHandler(t)}})),r.a.createElement("div",null,r.a.createElement("label",null,"password"),r.a.createElement("input",{name:"password",type:"password",value:this.state.password,onChange:function(t){return e.changeHandler(t)}})),r.a.createElement("button",null,"Register")))}}]),a}(n.Component),Q=a(2),W=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(I,null,r.a.createElement(Q.c,null,r.a.createElement(Q.a,{path:"/",exact:!0,component:F}),r.a.createElement(Q.a,{path:"/movie/:id",exact:!0,component:function(e){return r.a.createElement(Y,{mvId:e.match.params.id})}}),r.a.createElement(Q.a,{path:"/login",exact:!0,component:Z}),r.a.createElement(Q.a,{path:"/register",exact:!0,component:K}),r.a.createElement(Q.a,{path:"/profile",exact:!0,component:G}))))}}]),a}(n.Component),X=Object(Q.f)(W);c.a.render(r.a.createElement(s.a,null,r.a.createElement(X,null)),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.af4c6a6c.chunk.js.map